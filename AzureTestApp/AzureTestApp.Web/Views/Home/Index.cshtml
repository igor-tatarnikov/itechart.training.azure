@{
    ViewBag.Title = "Home Page";
}

<div class="row">
    <div class="col-md-7">
        <h3>Persons</h3>
        <div data-bind="template: { name: 'personListComponentTemplate', data: personList }"></div>
    </div>
    <div class="col-md-5">
        <div>
            <h3>Person Details</h3>
            <div data-bind="template: { name: 'personDetailsViewerComponentTemplate', data: personDetailsViewer.model }"></div>
        </div>

        <div>
            <div data-bind="template: { name: 'playerComponentTemplate', data: {} }"></div>
        </div>

        <div>
            <h3>Activity Log</h3>
        </div>
    </div>
</div>

@Html.Partial("Person/PersonList")
@Html.Partial("Person/PersonDetailsViewer")
@Html.Partial("Components/AccountGrubber")
@Html.Partial("Components/Player")

@section scripts
{
    <script type="text/javascript">
        var azureTestApp = window.azureTestApp || {};
        azureTestApp.params = azureTestApp.params || {};

        azureTestApp.params.personList = {
            getUrl: '@Url.Action("GetPersonList", "Person")'
        };

        azureTestApp.params.personDetailsViewer = {
            getUrl: '@Url.Action("GetPersonDetails", "Person")'
        };

        azureTestApp.params.accountGrubber = {
            grubbingUrl: '@Url.Action("AnalysePerson", "Person")'
        };
    </script>

    @Scripts.Render("~/bundles/azureTestApp")
}